#!/bin/sh

if [ x$1 != x ]; then
UNAME=$1
else
UNAME=`uname`
fi

case ${UNAME} in
FreeBSD | Darwin)
	echo "${UNAME} system - use FreeBSD Makefile."
	sed s/UNAME=0/UNAME=$UNAME/ Makefile.FreeBSD > Makefile
	echo "Configuration completed."
        ;;
Linux)
	echo "${UNAME} system - use Linux Makefile."
	GCC=`gcc -dumpversion | tr -d 'a-z-' | head -c1`
	sed s/GCC=0/GCC=$GCC/ Makefile.Linux > Makefile
	echo "Configuration completed."
	;;
*)
	echo ""
	echo "Unknown system: ${UNAME}."
	echo "You must specify the system which you want to compile for:"
	echo ""
	echo "./configure FreeBSD               FreeBSD"
	echo "./configure Darwin                Darwin/Mac OS X"
	echo "./configure Linux                 Linux"
	echo "or"
	echo "./configure                       for auto configure"
	echo ""
	echo "Other systems not supported yet."
	echo ""
        ;;
esac
